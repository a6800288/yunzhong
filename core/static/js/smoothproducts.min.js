!function(a){a.fn.extend({smoothproducts:function(){function l(){a(".sp-selected").removeClass("sp-selected");a(".sp-lightbox").fadeOut(function(){a(this).remove()})}function h(a){return a.match(/url\([\"\']{0,1}(.+)[\"\']{0,1}\)+/i)[1]}a(".sp-loading").hide();a(".sp-wrap").each(function(){a(this).addClass("sp-touch");if(1<a("a",this).length){var c,b,d=a("a.sp-default",this)[0]?!0:!1;a(this).append('<div class="sp-large"></div><div class="sp-thumbs sp-tb-active"></div>');a("a",this).each(function(e){var f=
a("img",this).attr("src"),g=a("img",this).attr("alt"),k=a(this).attr("href"),h="";(0===e&&!d||a(this).hasClass("sp-default"))&&(h=' class="sp-current"',c=k,b=a("img",this)[0].src,t=a("img",this)[0].alt);a(this).parents(".sp-wrap").find(".sp-thumbs").append('<a href="'+k+'" title="'+g+'" style="background-image:url('+f+')"'+h+"></a>");a(this).remove()});a(".sp-large",this).append('<a href="'+c+'" title="'+t+'" class="sp-current-big"><img src="'+b+'" alt="'+t+'" title="'+t+'" /></a>')}else a(this).append('<div class="sp-large"></div>'),
a("a",this).appendTo(a(".sp-large",this)).addClass(".sp-current-big");a(".sp-wrap").css("display","inline-block")});a(document.body).on("click",".sp-thumbs",function(a){a.preventDefault()});a(document.body).on("mouseover",function(c){a(".sp-wrap").removeClass("sp-touch").addClass("sp-non-touch");c.preventDefault()});a(document.body).on("touchstart",function(){a(".sp-wrap").removeClass("sp-non-touch").addClass("sp-touch")});a(document.body).on("click",".sp-tb-active a",function(c){c.preventDefault();
a(this).parent().find(".sp-current").removeClass();a(this).addClass("sp-current");a(this).parents(".sp-wrap").find(".sp-thumbs").removeClass("sp-tb-active");a(this).parents(".sp-wrap").find(".sp-zoom").remove();c=a(this).parents(".sp-wrap").find(".sp-large").height();var b=a(this).parents(".sp-wrap").find(".sp-large").width();a(this).parents(".sp-wrap").find(".sp-large").css({overflow:"hidden",height:c+"px",width:b+"px"});a(this).addClass("sp-current").parents(".sp-wrap").find(".sp-large a").remove();
c=a(this).parent().find(".sp-current").attr("href");var b=a(this).parent().find(".sp-current").attr("title"),d=h(a(this).parent().find(".sp-current").css("backgroundImage"));a(this).parents(".sp-wrap").find(".sp-large").html('<a href="'+c+'" title="'+b+'"  class="sp-current-big"><img src="'+d+'" alt="'+b+'" title="'+b+'"/></a>');a(this).parents(".sp-wrap").find(".sp-large").hide().fadeIn(250,function(){var b=a(this).parents(".sp-wrap").find(".sp-large img").height();a(this).parents(".sp-wrap").find(".sp-large").animate({height:b},
"fast",function(){a(".sp-large").css({height:"auto",width:"auto"})});a(this).parents(".sp-wrap").find(".sp-thumbs").addClass("sp-tb-active")})});a(document.body).on("mouseenter",".sp-non-touch .sp-large",function(c){var b=a("a",this).attr("href");a(this).append('<div class="sp-zoom"><img src="'+b+'"/></div>');a(this).find(".sp-zoom").fadeIn(250);c.preventDefault()});a(document.body).on("mouseleave",".sp-non-touch .sp-large",function(c){a(this).find(".sp-zoom").fadeOut(250,function(){a(this).remove()});
c.preventDefault()});a(document.body).on("click",".sp-non-touch .sp-zoom",function(c){var b=a(this).html(),d=a(this).parents(".sp-wrap").find(".sp-thumbs a").length,e=a(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index()+1;a(this).parents(".sp-wrap").addClass("sp-selected");a("body").append("<div class='sp-lightbox' data-currenteq='"+e+"'>"+b+"</div>");1<d&&(a(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>"),1==e?a("#sp-prev").css("opacity",".1"):e==
d&&a("#sp-next").css("opacity",".1"));a(".sp-lightbox").fadeIn();c.preventDefault()});a(document.body).on("click",".sp-large a",function(c){var b=a(this).attr("href"),d=a(this).attr("title"),e=a(this).parents(".sp-wrap").find(".sp-thumbs a").length,f=a(this).parents(".sp-wrap").find(".sp-thumbs .sp-current").index()+1;a(this).parents(".sp-wrap").addClass("sp-selected");a("body").append('<div class="sp-lightbox" data-currenteq="'+f+'"><img src="'+b+'" alt="'+d+'" title="'+d+'"/></div>');1<e&&(a(".sp-lightbox").append("<a href='#' id='sp-prev'></a><a href='#' id='sp-next'></a>"),
1==f?a("#sp-prev").css("opacity",".1"):f==e&&a("#sp-next").css("opacity",".1"));a(".sp-lightbox").fadeIn();c.preventDefault()});a(document.body).on("click","#sp-next",function(c){c.stopPropagation();var b=a(".sp-lightbox").data("currenteq"),d=a(".sp-selected .sp-thumbs a").length;if(!(b>=d)){var e=b+1,f=a(".sp-selected .sp-thumbs").find("a:eq("+b+")").attr("href"),g=a(".sp-selected .sp-thumbs").find("a:eq("+b+")").attr("title"),k=h(a(".sp-selected .sp-thumbs").find("a:eq("+b+")").css("backgroundImage"));
b==d-1&&a("#sp-next").css("opacity",".1");a("#sp-prev").css("opacity","1");a(".sp-selected .sp-current").removeClass();a(".sp-selected .sp-thumbs a:eq("+b+")").addClass("sp-current");a(".sp-selected .sp-large").empty().append("<a href="+f+'" title="'+g+'"><img src="'+k+'" alt="'+g+'" title="'+g+'"/></a>');a(".sp-lightbox img").fadeOut(250,function(){a(this).remove();a(".sp-lightbox").data("currenteq",e).append('<img src="'+f+'" alt="'+g+'" title="'+g+'"/>');a(".sp-lightbox img").hide().fadeIn(250)})}c.preventDefault()});
a(document.body).on("click","#sp-prev",function(c){c.stopPropagation();var b=a(".sp-lightbox").data("currenteq"),b=b-1;if(!(0>=b)){1==b&&a("#sp-prev").css("opacity",".1");var d=b-1,e=a(".sp-selected .sp-thumbs").find("a:eq("+d+")").attr("href"),f=a(".sp-selected .sp-thumbs").find("a:eq("+d+")").attr("title"),g=h(a(".sp-selected .sp-thumbs").find("a:eq("+d+")").css("backgroundImage"));a("#sp-next").css("opacity","1");a(".sp-selected .sp-current").removeClass();a(".sp-selected .sp-thumbs a:eq("+d+")").addClass("sp-current");
a(".sp-selected .sp-large").empty().append("<a href="+e+'" title="'+g+'"><img src="'+g+'" alt="'+f+'" title="'+f+'"/></a>');a(".sp-lightbox img").fadeOut(250,function(){a(this).remove();a(".sp-lightbox").data("currenteq",b).append('<img src="'+e+'" alt="'+f+'" title="'+f+'"/>');a(".sp-lightbox img").hide().fadeIn(250)})}c.preventDefault()});a(document.body).on("click",".sp-lightbox",function(){l()});a(document).keydown(function(a){return 27==a.keyCode?(l(),!1):void 0});a(".sp-large").mousemove(function(c){var b=
a(this).width(),d=a(this).height(),e=a(this).find(".sp-zoom").width(),f=a(this).find(".sp-zoom").height(),g=a(this).parent().offset(),b=Math.floor((c.pageX-g.left)*(b-e)/b);c=Math.floor((c.pageY-g.top)*(d-f)/d);a(this).find(".sp-zoom").css({left:b,top:c})})}})}(jQuery);